import{r as s,t as O,$ as A,q as g,R as b,e as E}from"./main-DlaEAmT8.js";function j(e,t,{checkForDefaultPrevented:o=!0}={}){return function(c){if(e==null||e(c),o===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function I(e,t=[]){let o=[];function n(u,l){const a=s.createContext(l),i=o.length;o=[...o,l];function r(d){const{scope:p,children:m,...f}=d,N=(p==null?void 0:p[e][i])||a,v=s.useMemo(()=>f,Object.values(f));return s.createElement(N.Provider,{value:v},m)}function $(d,p){const m=(p==null?void 0:p[e][i])||a,f=s.useContext(m);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${d}\` must be used within \`${u}\``)}return r.displayName=u+"Provider",[r,$]}const c=()=>{const u=o.map(l=>s.createContext(l));return function(a){const i=(a==null?void 0:a[e])||u;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return c.scopeName=e,[n,_(c,...t)]}function _(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const l=n.reduce((a,{useScope:i,scopeName:r})=>{const d=i(u)[`__scope${r}`];return{...a,...d}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return o.scopeName=t.scopeName,o}function P(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...o)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...o)},[])}const M=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},y=O.useId||(()=>{});let U=0;function F(e){const[t,o]=s.useState(y());return M(()=>{e||o(n=>n??String(U++))},[e]),e||(t?`radix-${t}`:"")}function D(e,t){return s.useReducer((o,n)=>{const c=t[o][n];return c??o},e)}const L=e=>{const{present:t,children:o}=e,n=w(t),c=typeof o=="function"?o({present:n.isPresent}):s.Children.only(o),u=A(n.ref,c.ref);return typeof o=="function"||n.isPresent?s.cloneElement(c,{ref:u}):null};L.displayName="Presence";function w(e){const[t,o]=s.useState(),n=s.useRef({}),c=s.useRef(e),u=s.useRef("none"),l=e?"mounted":"unmounted",[a,i]=D(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const r=S(n.current);u.current=a==="mounted"?r:"none"},[a]),M(()=>{const r=n.current,$=c.current;if($!==e){const p=u.current,m=S(r);e?i("MOUNT"):m==="none"||(r==null?void 0:r.display)==="none"?i("UNMOUNT"):i($&&p!==m?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,i]),M(()=>{if(t){const r=d=>{const m=S(n.current).includes(d.animationName);d.target===t&&m&&g.flushSync(()=>i("ANIMATION_END"))},$=d=>{d.target===t&&(u.current=S(n.current))};return t.addEventListener("animationstart",$),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{t.removeEventListener("animationstart",$),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:s.useCallback(r=>{r&&(n.current=getComputedStyle(r)),o(r)},[])}}function S(e){return(e==null?void 0:e.animationName)||"none"}function z({prop:e,defaultProp:t,onChange:o=()=>{}}){const[n,c]=k({defaultProp:t,onChange:o}),u=e!==void 0,l=u?e:n,a=P(o),i=s.useCallback(r=>{if(u){const d=typeof r=="function"?r(e):r;d!==e&&a(d)}else c(r)},[u,e,c,a]);return[l,i]}function k({defaultProp:e,onChange:t}){const o=s.useState(e),[n]=o,c=s.useRef(n),u=P(t);return s.useEffect(()=>{c.current!==n&&(u(n),c.current=n)},[n,c,u]),o}function G(e){const t=e+"CollectionProvider",[o,n]=I(t),[c,u]=o(t,{collectionRef:{current:null},itemMap:new Map}),l=m=>{const{scope:f,children:N}=m,v=b.useRef(null),C=b.useRef(new Map).current;return b.createElement(c,{scope:f,itemMap:C,collectionRef:v},N)},a=e+"CollectionSlot",i=b.forwardRef((m,f)=>{const{scope:N,children:v}=m,C=u(a,N),x=A(f,C.collectionRef);return b.createElement(E,{ref:x},v)}),r=e+"CollectionItemSlot",$="data-radix-collection-item",d=b.forwardRef((m,f)=>{const{scope:N,children:v,...C}=m,x=b.useRef(null),R=A(f,x),h=u(r,N);return b.useEffect(()=>(h.itemMap.set(x,{ref:x,...C}),()=>void h.itemMap.delete(x))),b.createElement(E,{[$]:"",ref:R},v)});function p(m){const f=u(e+"CollectionConsumer",m);return b.useCallback(()=>{const v=f.collectionRef.current;if(!v)return[];const C=Array.from(v.querySelectorAll(`[${$}]`));return Array.from(f.itemMap.values()).sort((h,T)=>C.indexOf(h.ref.current)-C.indexOf(T.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:l,Slot:i,ItemSlot:d},p,n]}const q=s.createContext(void 0);function J(e){const t=s.useContext(q);return e||t||"ltr"}export{I as $,F as a,z as b,j as c,L as d,G as e,P as f,J as g,M as h};
