import{r as a,j as n}from"./index-BPGplzXH.js";import{V as x,M as f,c as y,A as k,C as b}from"./MarkerContent-YIvS1hNm.js";import{t as M}from"./tiket-DNlMfWZf.js";const C=()=>{const c=a.useRef(null),o=a.useRef(null),[,m]=a.useState(!1),l="https://photo-sphere-viewer-data.netlify.app/assets/",w="https://backend.roamin.id/uploads/20241125060854-a42e35d6e9797103.jpg",p=[{id:"marker1",position:{yaw:6.28181717943322,pitch:.28985212985525055},color:"#00808f",svgPath:M,tooltip:"Check Point Timur",contentRef:a.useRef(null),contentType:"image",contentData:{imageUrl:"https://streetviewpixels-pa.googleapis.com/v1/thumbnail?cb_client=maps_sv.tactile&w=900&h=600&pitch=5.226736170203637&panoid=hcv9DkK654DDuPWsgVyxRg&yaw=45.12447324996154",description:"East Check Point: Eastern access to Jatiluwih, ideal for exploring the lush rice terraces and local landmarks."}}],v=`
    <div style="margin-bottom: 10px; width: 22px; height: 22px;">
      <svg viewBox="-2 -2 29 29" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12.5" cy="12.5" r="12.5" fill="gray" />
      <circle cx="12.5" cy="12.5" r="12.5" fill="none" stroke="white" stroke-width="1" />
      <text x="12.5" y="19" font-family="Arial" font-size="18" text-anchor="middle" fill="white">i</text>
      </svg>
    </div>
  `;return a.useEffect(()=>{var s;if(!c.current)return;const e=new x({container:c.current,panorama:w,loadingImg:l+"loader.gif",canvasBackground:"#fff",sphereCorrection:{pan:"-90deg",tilt:"15deg"},navbar:["autorotate","zoom","move","description",{id:"change",title:"Tooltips",tabbable:!0,visible:!0,content:v,onClick(){const t=o.current;t&&m(i=>(t.getMarkers().forEach(r=>{i?t.hideMarkerTooltip(r.id):t.showMarkerTooltip(r.id)}),!i))}},"markers","markersList","caption","fullscreen"],plugins:[[f,{markers:p.map(t=>{var i;return{id:t.id,position:t.position,html:y(t.color,t.svgPath),size:{width:80,height:80},anchor:"bottom center",zoomLvl:100,tooltip:{content:t.tooltip,position:"top center"},content:(i=t.contentRef.current)==null?void 0:i.innerHTML,data:{compass:"#ff0000"}}})}],[k,{autostartDelay:1e5,autorotatePitch:"5deg"}],[b,{size:"5rem",backgroundSvg:`
              <svg width="500" height="500" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="250" fill="gray" /> 
              </svg>
            `}]]});return o.current=e.getPlugin(f),e.addEventListener("click",({data:t})=>{if(!t.rightclick){const i=t.yaw,r=t.pitch;console.log(`Generated pin at: yaw: ${i}, pitch: ${r}`),o.current&&o.current.addMarker({id:"#"+Math.random(),position:{yaw:i,pitch:r},image:l+"pictos/pin-red.png",size:{width:32,height:32},anchor:"bottom center",tooltip:"Generated pin",data:{generated:!0}})}}),(s=o.current)==null||s.addEventListener("select-marker",({marker:t,doubleClick:i,rightClick:r})=>{var h,g,u;if((h=t.data)!=null&&h.generated){if(i){const d={id:t.id};(g=o.current)==null||g.removeMarker(d),console.log(`Removed pin with id: ${t.id}`)}else if(r){const d={id:t.id,image:l+"pictos/pin-blue.png"};(u=o.current)==null||u.updateMarker(d),console.log(`Updated pin with id: ${t.id} to blue`)}}}),()=>{e&&e.destroy()}},[]),n.jsx("div",{className:"h-screen",children:n.jsx("div",{ref:c,style:{height:"100%",width:"100%"},children:p.map((e,s)=>n.jsx("div",{id:`${e.id}-content`,ref:e.contentRef,style:{display:"none"},children:e.contentType==="image"?n.jsxs(n.Fragment,{children:[n.jsxs("b",{style:{fontSize:"30px"},children:["Deskripsi Marker ",s+1]}),n.jsx("img",{src:e.contentData.imageUrl,alt:`Marker ${s+1}`,style:{width:"300px",height:"auto"}}),n.jsx("p",{children:e.contentData.description})]}):n.jsx("div",{children:n.jsx("p",{children:"Konten tidak tersedia."})})},s))})})};export{C as default};
