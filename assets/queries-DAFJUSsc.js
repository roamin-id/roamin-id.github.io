var ot=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var i=(e,t,s)=>(ot(e,t,"read from private field"),s?s.call(e):t.get(e)),o=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},h=(e,t,s,r)=>(ot(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var d=(e,t,s)=>(ot(e,t,"access private method"),s);import{S as Dt,v as Y,w as Tt,x as Rt,y as gt,z as kt,A as At,C as Bt,D as It,E as tt,F as Pt,G as qt,r as y,I as Mt,J as jt,K as _t,M as zt,N as Nt,O as Vt,P as Wt,Q as Ht,T as Gt,U as Jt}from"./main-DlaEAmT8.js";var C,c,q,p,S,w,v,j,L,x,D,M,U,T,Q,B,_,at,z,ht,N,lt,V,ut,W,ct,H,dt,G,ft,Z,Qt,Et,$t=(Et=class extends Dt{constructor(t,s){super();o(this,Q);o(this,_);o(this,z);o(this,N);o(this,V);o(this,W);o(this,H);o(this,G);o(this,Z);o(this,C,void 0);o(this,c,void 0);o(this,q,void 0);o(this,p,void 0);o(this,S,void 0);o(this,w,void 0);o(this,v,void 0);o(this,j,void 0);o(this,L,void 0);o(this,x,void 0);o(this,D,void 0);o(this,M,void 0);o(this,U,void 0);o(this,T,new Set);this.options=s,h(this,C,t),h(this,v,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,c).addObserver(this),Ut(i(this,c),this.options)?d(this,Q,B).call(this):this.updateResult(),d(this,V,ut).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pt(i(this,c),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pt(i(this,c),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,d(this,W,ct).call(this),d(this,H,dt).call(this),i(this,c).removeObserver(this)}setOptions(t,s){const r=this.options,u=i(this,c);if(this.options=i(this,C).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");d(this,G,ft).call(this),i(this,c).setOptions(this.options),r._defaulted&&!Y(this.options,r)&&i(this,C).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,c),observer:this});const l=this.hasListeners();l&&Kt(i(this,c),u,this.options,r)&&d(this,Q,B).call(this),this.updateResult(s),l&&(i(this,c)!==u||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&d(this,_,at).call(this);const n=d(this,z,ht).call(this);l&&(i(this,c)!==u||this.options.enabled!==r.enabled||n!==i(this,U))&&d(this,N,lt).call(this,n)}getOptimisticResult(t){const s=i(this,C).getQueryCache().build(i(this,C),t),r=this.createResult(s,t);return Yt(this,r)&&(h(this,p,r),h(this,w,this.options),h(this,S,i(this,c).state)),r}getCurrentResult(){return i(this,p)}trackResult(t,s){const r={};return Object.keys(t).forEach(u=>{Object.defineProperty(r,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),s==null||s(u),t[u])})}),r}trackProp(t){i(this,T).add(t)}getCurrentQuery(){return i(this,c)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=i(this,C).defaultQueryOptions(t),r=i(this,C).getQueryCache().build(i(this,C),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(t){return d(this,Q,B).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,p)))}createResult(t,s){var vt;const r=i(this,c),u=this.options,l=i(this,p),n=i(this,S),f=i(this,w),R=t!==r?t.state:i(this,q),{state:a}=t;let{error:I,errorUpdatedAt:Ft,fetchStatus:A,status:P}=a,Ot=!1,m;if(s._optimisticResults){const b=this.hasListeners(),nt=!b&&Ut(t,s),xt=b&&Kt(t,r,s,u);(nt||xt)&&(A=Bt(t.options.networkMode)?"fetching":"paused",a.data===void 0&&(P="pending")),s._optimisticResults==="isRestoring"&&(A="idle")}if(s.select&&a.data!==void 0)if(l&&a.data===(n==null?void 0:n.data)&&s.select===i(this,j))m=i(this,L);else try{h(this,j,s.select),m=s.select(a.data),m=It(l==null?void 0:l.data,m,s),h(this,L,m),h(this,v,null)}catch(b){h(this,v,b)}else m=a.data;if(s.placeholderData!==void 0&&m===void 0&&P==="pending"){let b;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(f==null?void 0:f.placeholderData))b=l.data;else if(b=typeof s.placeholderData=="function"?s.placeholderData((vt=i(this,x))==null?void 0:vt.state.data,i(this,x)):s.placeholderData,s.select&&b!==void 0)try{b=s.select(b),h(this,v,null)}catch(nt){h(this,v,nt)}b!==void 0&&(P="success",m=It(l==null?void 0:l.data,b,s),Ot=!0)}i(this,v)&&(I=i(this,v),m=i(this,L),Ft=Date.now(),P="error");const st=A==="fetching",it=P==="pending",rt=P==="error",bt=it&&st,mt=a.data!==void 0;return{status:P,fetchStatus:A,isPending:it,isSuccess:P==="success",isError:rt,isInitialLoading:bt,isLoading:bt,data:m,dataUpdatedAt:a.dataUpdatedAt,error:I,errorUpdatedAt:Ft,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>R.dataUpdateCount||a.errorUpdateCount>R.errorUpdateCount,isFetching:st,isRefetching:st&&!it,isLoadingError:rt&&!mt,isPaused:A==="paused",isPlaceholderData:Ot,isRefetchError:rt&&mt,isStale:yt(t,s),refetch:this.refetch}}updateResult(t){const s=i(this,p),r=this.createResult(i(this,c),this.options);if(h(this,S,i(this,c).state),h(this,w,this.options),i(this,S).data!==void 0&&h(this,x,i(this,c)),Y(r,s))return;h(this,p,r);const u={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:n}=this.options,f=typeof n=="function"?n():n;if(f==="all"||!f&&!i(this,T).size)return!0;const O=new Set(f??i(this,T));return this.options.throwOnError&&O.add("error"),Object.keys(i(this,p)).some(R=>{const a=R;return i(this,p)[a]!==s[a]&&O.has(a)})};(t==null?void 0:t.listeners)!==!1&&l()&&(u.listeners=!0),d(this,Z,Qt).call(this,{...u,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&d(this,V,ut).call(this)}},C=new WeakMap,c=new WeakMap,q=new WeakMap,p=new WeakMap,S=new WeakMap,w=new WeakMap,v=new WeakMap,j=new WeakMap,L=new WeakMap,x=new WeakMap,D=new WeakMap,M=new WeakMap,U=new WeakMap,T=new WeakMap,Q=new WeakSet,B=function(t){d(this,G,ft).call(this);let s=i(this,c).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Tt)),s},_=new WeakSet,at=function(){if(d(this,W,ct).call(this),Rt||i(this,p).isStale||!gt(this.options.staleTime))return;const s=kt(i(this,p).dataUpdatedAt,this.options.staleTime)+1;h(this,D,setTimeout(()=>{i(this,p).isStale||this.updateResult()},s))},z=new WeakSet,ht=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,c)):this.options.refetchInterval)??!1},N=new WeakSet,lt=function(t){d(this,H,dt).call(this),h(this,U,t),!(Rt||this.options.enabled===!1||!gt(i(this,U))||i(this,U)===0)&&h(this,M,setInterval(()=>{(this.options.refetchIntervalInBackground||At.isFocused())&&d(this,Q,B).call(this)},i(this,U)))},V=new WeakSet,ut=function(){d(this,_,at).call(this),d(this,N,lt).call(this,d(this,z,ht).call(this))},W=new WeakSet,ct=function(){i(this,D)&&(clearTimeout(i(this,D)),h(this,D,void 0))},H=new WeakSet,dt=function(){i(this,M)&&(clearInterval(i(this,M)),h(this,M,void 0))},G=new WeakSet,ft=function(){const t=i(this,C).getQueryCache().build(i(this,C),this.options);if(t===i(this,c))return;const s=i(this,c);h(this,c,t),h(this,q,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Z=new WeakSet,Qt=function(t){tt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(i(this,p))}),i(this,C).getQueryCache().notify({query:i(this,c),type:"observerResultsUpdated"})})},Et);function Xt(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ut(e,t){return Xt(e,t)||e.state.data!==void 0&&pt(e,t,t.refetchOnMount)}function pt(e,t,s){if(t.enabled!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&yt(e,t)}return!1}function Kt(e,t,s,r){return(e!==t||r.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&yt(e,s)}function yt(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function Yt(e,t){return!Y(e.getCurrentResult(),t)}var K,E,F,g,k,X,J,Ct,St,Zt=(St=class extends Dt{constructor(t,s){super();o(this,k);o(this,J);o(this,K,void 0);o(this,E,void 0);o(this,F,void 0);o(this,g,void 0);h(this,K,t),this.setOptions(s),this.bindMethods(),d(this,k,X).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=i(this,K).defaultMutationOptions(t),Y(this.options,s)||i(this,K).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,F),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Pt(s.mutationKey)!==Pt(this.options.mutationKey)?this.reset():(r=i(this,F))==null||r.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,F))==null||t.removeObserver(this)}onMutationUpdate(t){d(this,k,X).call(this),d(this,J,Ct).call(this,t)}getCurrentResult(){return i(this,E)}reset(){var t;(t=i(this,F))==null||t.removeObserver(this),h(this,F,void 0),d(this,k,X).call(this),d(this,J,Ct).call(this)}mutate(t,s){var r;return h(this,g,s),(r=i(this,F))==null||r.removeObserver(this),h(this,F,i(this,K).getMutationCache().build(i(this,K),this.options)),i(this,F).addObserver(this),i(this,F).execute(t)}},K=new WeakMap,E=new WeakMap,F=new WeakMap,g=new WeakMap,k=new WeakSet,X=function(){var s;const t=((s=i(this,F))==null?void 0:s.state)??qt();h(this,E,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},J=new WeakSet,Ct=function(t){tt.batch(()=>{var s,r,u,l,n,f,O,R;if(i(this,g)&&this.hasListeners()){const a=i(this,E).variables,I=i(this,E).context;(t==null?void 0:t.type)==="success"?((r=(s=i(this,g)).onSuccess)==null||r.call(s,t.data,a,I),(l=(u=i(this,g)).onSettled)==null||l.call(u,t.data,null,a,I)):(t==null?void 0:t.type)==="error"&&((f=(n=i(this,g)).onError)==null||f.call(n,t.error,a,I),(R=(O=i(this,g)).onSettled)==null||R.call(O,void 0,t.error,a,I))}this.listeners.forEach(a=>{a(i(this,E))})})},St),wt=y.createContext(!1),te=()=>y.useContext(wt);wt.Provider;function ee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var se=y.createContext(ee()),ie=()=>y.useContext(se);function Lt(e,t){return typeof e=="function"?e(...t):!!e}function re(){}var ne=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},oe=e=>{y.useEffect(()=>{e.clearReset()},[e])},ae=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Lt(s,[e.error,r]),he=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},le=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ue=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ce(e,t,s){const r=Mt(s),u=te(),l=ie(),n=r.defaultQueryOptions(e);n._optimisticResults=u?"isRestoring":"optimistic",he(n),ne(n,l),oe(l);const[f]=y.useState(()=>new t(r,n)),O=f.getOptimisticResult(n);if(y.useSyncExternalStore(y.useCallback(R=>{const a=u?()=>{}:f.subscribe(tt.batchCalls(R));return f.updateResult(),a},[f,u]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),y.useEffect(()=>{f.setOptions(n,{listeners:!1})},[n,f]),le(n,O))throw ue(n,f,l);if(ae({result:O,errorResetBoundary:l,throwOnError:n.throwOnError,query:r.getQueryCache().get(n.queryHash)}))throw O.error;return n.notifyOnChangeProps?O:f.trackResult(O)}function et(e,t){return ce(e,$t,t)}function $(e,t){const s=Mt(t),[r]=y.useState(()=>new Zt(s,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const u=y.useSyncExternalStore(y.useCallback(n=>r.subscribe(tt.batchCalls(n)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=y.useCallback((n,f)=>{r.mutate(n,f).catch(re)},[r]);if(u.error&&Lt(r.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:l,mutateAsync:u.mutate}}const de="PointOfInterestControllerFind",fe=(e={},t)=>[de,...t??[e]],pe="PointOfInterestControllerFindOne",Ce=(e,t)=>[pe,...t??[e]],ye="DestinationControllerFind",Fe=(e={},t)=>[ye,...t??[e]],Oe="DestinationControllerFindOne",be=(e,t)=>[Oe,...t??[e]],me="PointOfInterestControllerCreate",ve=e=>[me,...e??[]],Re="PointOfInterestControllerLinkFile",ge=e=>[Re,...e??[]],Ie="DestinationControllerCreate",Pe=e=>[Ie,...e??[]],Ue="FilesControllerUploadFile",Ke=e=>[Ue,...e??[]],Ee="MediaFeaturedControllerLinkFileToPointOfInterest",Se=e=>[Ee,...e??[]],we=(e={},t,s)=>et({queryKey:fe(e,t),queryFn:()=>jt({...e}).then(r=>r.data),...s}),Le=(e,t,s)=>et({queryKey:Ce(e,t),queryFn:()=>_t({...e}).then(r=>r.data),...s}),xe=(e={},t,s)=>et({queryKey:Fe(e,t),queryFn:()=>zt({...e}).then(r=>r.data),...s}),Te=(e,t,s)=>et({queryKey:be(e,t),queryFn:()=>Nt({...e}).then(r=>r.data),...s}),ke=(e,t)=>$({mutationKey:ve(e),mutationFn:s=>Vt(s),...t}),Ae=(e,t)=>$({mutationKey:ge(e),mutationFn:s=>Wt(s),...t}),Be=(e,t)=>$({mutationKey:Pe(e),mutationFn:s=>Ht(s),...t}),qe=(e,t)=>$({mutationKey:Ke(e),mutationFn:s=>Gt(s),...t}),je=(e,t)=>$({mutationKey:Se(e),mutationFn:s=>Jt(s),...t});export{qe as a,xe as b,Te as c,ke as d,Ae as e,je as f,we as g,Le as h,Be as u};
